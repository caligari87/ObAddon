[ /// WARNING: CHANGES MADE BETWEEN 1/17/19 - 1/31/19 WERE NOT PROPERLY DOCUMENTED, SORRY! \\\ ]

[ CHANGES AFTER 2/14/19 will now be tracked on the ObAddon Git repo again! ]

2/15/19

- Attempted to fix the issue of vista ceilings working erratically.
- Allowed outdoor and not-in-building wall fabs to spawn as part of the scenic rooms.

- Fixed a minor texture issue in the tech-themed immersive exit fab.
- Greatly increased the probability of some left-out vanilla 7.7 fabs to match up with the rest.

Affected files:
                scripts/room.lua
                scripts/prefab.lua
                games/doom/fabs/exit/gtd_generic_immersive_exit.wad
                               /decor/dh_lamp.lua
                               /decor/ruins.lua

=================================================================================================

2/14/19

- Only the plain wall fab will ever spawn over seeds that are actually stairs. This is to stop overhangs from interfering with ZDoom ramps, and stop decorative walls in general from weirdly intersecting with staircase fabs.
- Fixed the issue of jagged outie corners when Sharp Sink Style is selected. The vanilla curved style will unfortunately remain jagged.
- Added a new generic beamed inset group fab available for all themes.
- Added support for windows that look out into vistas!

- Included Glaice's updated addon for disabling Oblige's hang lamps.
- Included Glaice's new addon for disabling the "secret message".

- Added Glaice's texture fixes on the new closet4!
- ZDoom slopes are now re-activated for outdoors!
- Fixed texture issues on some fabs.
- Addressed an issue of an edge error cropping up because smoothing shape rules may often cut-off rooms from each other, and interfere with joiners.

Affected files:
                scripts/render.lua
             
                games/doom/fabs/stairs/gtd_stair_zdoomslope_64.lua
                               /wall/gtd_wall_tech_server_room.wad
                               /wall/gtd_wall_generic_beamed_inset.wad & .lua
                               /exit/glaice_closet4.wad
                               
                scripts/room.lua
                scripts/prefab.lua
                scripts/area.lua
                
                addons/no_hang_lamp.pk3
                addons/no_secret_message.pk3
                
                games/heretic/shapes.lua
                             /shapes_liquid_outdoors.lua

=================================================================================================

2/13/19

- Fixed an issue that broke Doom1/UltDoom support due to Oblige removing whole monsters if a replacement was from an incompatible game. The replacement value itself is now removed, instead of the whole subject monster itself...
- Added a hack into the theme matching system to force the "Deimos" Doom1 theme to match against all tech and hell-themed rules and fabs, due to the issue of the Deimos theme often running out of definitions (prefabs, rules) due to the lack of explicit Deimos assets.
- As an addendum, Thy Flesh now matches against all urban and hell-themed rules and fabs.
- Fixed misaligned floor on the generic open start fab.

Affected files:
                games/doom/fabs/start/gtd_generic_open_start.wad
                scripts/monster.lua
                scripts/oblige.lua

=================================================================================================

2/12/19

- Modified and added new shape rules! (trenches, 1-seed width sinks and elevations)
- Added Glaice's new exit fab!
- Default filename mode now affixes the current date to the generated WAD filename.

- Reduced the probability for the immersive start fab. It's probably better to have a control for this rather than use probability at all.

Affected files:
                games/heretic/shapes.lua
                             /shapes_liquid_outdoors.lua
                
                scripts/oblige.lua
                games/doom/fabs/start/gtd_generic_immersive_start.lua
                
                               /exit/gtd_generic_immersive_exit.lua
                               /exit/glaice_closet4.wad & .lua

=================================================================================================
                
2/11/19c

- Fixed an issue of the new plain start fab causing a fitting error.

Affected files:

                games/doom/fabs/start/gtd_generic_open_start.lua

2/11/19b

- Fixed an issue with ocean vista surfaces being occasionally higher than the playing area. The ocean vista will now always adapt down to the lowest connected area's floor height.
- Fixed also an issue of the sky_edge map borders often not being low enough, resulting in a small _DEFAULT texture gap appearing at the edge.

Affected files:
                scripts/cave.lua
                scripts/render.lua

2/11/19

- Added a new map border vista type - oceans! Ocean vistas are simply scenic rooms made entirely of the level's liquid, and will not appear if the level doesn't have any.
- When several bottomless drop vistas are neighboring, they will try to not be separated by walls (same behavior as oceans).

- Added a new immersive start room for urban theme. Hell theme should be next.
- Added a new plain start fab - literally just a hole in the wall resembling old pre 7.x starts.
- Fixed an issue with the generic immersive start fab apparently over-writing the one of the custom hell start fabs.
- Integrated Glaice's texture enhancements on some exit fabs.
- Disabled ZDoom slope stairs for outdoors, due to the issue of wall overhangs interfering with slope linedefs.

Affected files:
                games/doom/fabs/exit/closet3.wad
                               /start/gtd_generic_immersive_start.wad & .lua
                               /start/gtd_generic_open_start.wad & .lua
                               /exit/gtd_generic_immersive_exit.wad & .lua
                               /stairs/gtd_stair_zdoomslope_64.lua
                
                scripts/rooms.lua
                       /layout.lua
                       /cave.lua

=================================================================================================

2/9/19

- Fixed texture issue with the urban marquee - texture option was wrongly spelt.
- Shape rules: attempted to fix an issue of one of the platform-making sprout rules having a tendency to block off rooms when Oblige engage symmetry on it? (probably because of lack of symmetry information on the rule itself?) If this issue still continues, another solution will be attempted - if that solution also fails, the shape rule causing this problem will be removed.

Affected files:

                games/doom/fabs/deco/gtd_decor_urban.lua
                     /heretic/shapes.lua
                             /shapes_liquid_outdoors.lua

=================================================================================================

2/8/19

- Attempted to find a hackish way to get Oblige to use rules with liquid elements at the borders for outdoors. While a level has not yet generated any park features, Oblige will use a completely different set of shape rules from normal until the first park room has been created. This should help fix most assert issues. A more ideal approach is being looked into.
- Made Oblige stop using sprout and decorate rules with steepness or liquid elements in caves and park areas. This should also fix other assert issues when generating.

Affected files:

                scripts/grower.lua
                scripts/room.lua
                
                heretic/shapes.lua
                heretic/shapes_liquid_outdoors.lua

=================================================================================================

2/7/19

- Integrated Glaice's rebalancing of monster quantities and changes to lighting!

- Added new neon sign fabs for urban theme outdoors!
- Added Glaice's new names for Psychedelic theme maps!
- Seperated the option to have bottomless vistas (ZDoom vista) or the 3D skybox.

- Revised the Trap Styles code as the ratio choices other than 20%/80% were not actually working.
- Fixed an issue caused by bad code merging on prefab.lua
- Fixed a texture issue with the one of the hell item shelves adopting the sky ceiling when outdoors.
- Fixed shadowing on one of the arch-ish the hell diagonals.
- Set vehicle fabs to only spawn outdoors.
- Fixed an issue with one of the liquid shapes causing inaccessible ledges... because of a typo.
- Prevented some shape rules from spawning outdoors.
- Re-added the old Oblige ad pictures into the urban scrolling marquee fab!
- Attempted to stop Oblige from causing an error when an edge already exists, and instead continue on. If might fix things, or it might break things.

Affected files:

                scripts/level.lua
                       /layout.lua
                       /defs.lua
                       /ui_mons.lua
                       /prefab.lua
                       /seed.lua
                       /naming.lua
                       /render.lua
                
                modules/ui_arch.lua

                games/doom/fabs/wall/gtd_wall_neonsigns.wad & .lua
                               /wall/gtd_wall_hell_diagonal.wad
                               /item/gtd_item_closet_hell.wad
                               /decor/gtd_decor_urban.wad & .lua
                               /decor/gtd_cars.lua
                    
                     /doom/shapes.lua
                     /heretic/shapes.lua

=================================================================================================

2/6/19b

- HOTFIX: Tagged some shape rules to not spawn outdoors due to the continuing issue of parks unable to connect to or resolve against outdoor rooms with liquids at the edges.

- Fixed texture issue in one of the hell item shelf fabs.

Affected file: games/doom/shapes.lua
               games/heretic/shapes.lua    <--- [ Because of load order, Oblige 7.7 actually overrides Doom's shape rules ]
                                                [ with that of Heretic's. I just end up copying the Heretic version onto  ]
                                                [ the Doom folder as insurance.                                           ]

               games/doom/fabs/item/gtd_item_closet_hell.wad
                                                
2/6/19

- Integrated Glaice's monster rebalancing and damage reduction on deadly liquids!

- Integrated Frozsoul's Psychedelic 7.7 theme!

- Added a crapload of new liquid shape rules including...
   - Huge new rooms with liquid-pools!
   - New rules to expand platforms procedurally into these pools!
   - New rules to decorate existing rooms with liquids and another touches likes pillars on liquids!

- Added Garrett's new 'hanging framework' fab.
- Added Garrett's new tech point portal fab.
- Added new hell grouped walls - "vaults".

- Created a more appropriate shadowed outdoor version of the metal arch fab found in Hell and Urban themes.
- Fixed texture issues on some staircase and joiner prefabs.
- Added monster blocking to all teleporter fabs due to large monsters often being stuck in them.
- Adjusted height and textures on the arched windows. They had a tendency to go above the minimum ceiling height.
- Adjusted probabilities on some window groups, as a debug value as left in one of them.

Affected files:
                games/doom/monsters.lua
                          /materials.lua

                          /fabs/decor/garrett_tech_hanging_framework.wad & .lua
                          /fabs/teleporter/garrett_tech_pad.wad & .lua
                          
                          /fabs/window/gtd_window_arch_curved.wad
                          
                          /fabs/wall/gtd_wall_hell_vaults.wad & .lua
                          
                          /themes.lua
                          
                          /fabs/wall/gtd_wall_hell.lua
                          /fabs/wall/gtd_wall_steel_arch.wad & .lua
                          
                          /fabs/joiner/gtd_ruins.wad
                          
                          /fabs/stairs/gtd_stair_ladder_128.wad
                          
                          /fabs/teleporter/closet2.wad
                                          /pad1.wad
                                          /pad2.wad
                                          /sky_pad.wad
                                          
                games/doom/shapes.lua
                games/heretic/shapes.lua    <--- [ Because of load order, Oblige 7.7 actually overrides Doom's shape rules ]
                                                 [ with that of Heretic's. I just end up copying the Heretic version onto  ]
                                                 [ the Doom folder as insurance.                                           ]    
                scripts/brush.lua
                       /defs.lua
                       /level.lua
                       /naming.lua
                       
                modules/sky_generator.lua
                       /theme_control.lua               

=================================================================================================

2/5/19

- All of ObAddon has now been refactored into the 7.7 codebase. There should be no effect to this... hopefully.
- Added an option to disable all prebuilt levels for Doom 1 and Doom 2 games.
- 3 new hell item shelf prefabs!
- Expanded upon the Trap Styles module to have pie-ratios between closet traps or teleporter traps. May need more testing.

- Made some tweaks to shapes, especially the cliff building rules.

Affected files: 
                prefabs/item/gtd_item_closet_hell.wad & .lua

                scripts/layout.lua
                modules/ui_mons.lua
                
                modules/ui_arch.lua
                games/doom/levels.lua
                games/doom/x_doom1.lua
                
                games/doom/shapes.lua (formerly scripts/rules.lua in pre-7.7)
                games/heretic/shapes.lua (formerly scripts/rules.lua in pre-7.7)

=================================================================================================

2/4/19

- A new option to allow or disallow monsters to spawn in secret rooms with selection for NONE, yes but at weakened strength, and yes at full typical strength (as per prefered monster properties).
- Added a 6.20 style 128-height lift!
- Re-activated and refitted an old unfinished item locker prefab as well as added a new one.

- Normalized the values for some lift prefab spawn probabilities. (increased chances for lift-stairs, but reduced chances for the lift-joiners, especially on lift4)
- Attempted to revise code for the Trap Styles selector. Instead of intercepting the moment a trap is installed, it intercepts the actual room tagging for trap types instead.

Affected files: scripts/monster.lua
                modules/ui_mons.lua
                
                scripts/layout.lua
                
                prefabs/stairs/frozsoul_620_lift_128.wad & .lua

                prefabs/stairs/lift_64.lua
                prefabs/joiners/lift3.lua
                prefabs/joiners/lift4.lua
                prefabs/joiners/lift_curve.lua
                
                prefabs/item/gtd_item_lockers.wad & .lua
                
                prefabs/joiners/gtd_zigzag_lift.lua

=================================================================================================

2/2/19

- Added an option for Trap Styles, with the ability to choose between monster closet traps or teleporter traps, or default (both).
- Added a new feature: the ZDoom Vista. If enabled, Oblige will render a custom 3D skybox into the map and allow for bottomless pits to form the map borders, giving the look of being on a rooftop or top of a mountain. Is currently unfinished and features only one 3D skybox prefab.

- Transfered the Layout Absurdifier controls into the main architecture UI instead. The original script module is no longer necessary.
- Removed the " - Copy" affix from gtd_wall.lua
- Fixed an issue with a shape rule causing an error when generated outside.

Affected files: [REMOVE]--> modules/layout_absurdifier.lua
                scripts/grower.lua

                modules/ui_mons.lua
                scripts/layout.lua

                scripts/cave.lua
                scripts/render.lua
                scripts/room.lua

                prefabs/skybox/test_sky.wad & .lua

                scripts/rules.lua

                [RENAME] prefabs/wall/gtd_wall - Copy.lua --> prefabs/wall/gtd_wall.lua

=================================================================================================
                
2/1/19

- Added the Layout Absurdifier module! The layout absurdifier module creates a chance for a map to abuse a specific set of shape rules to look completely different and unique i.e. ridiculous amount of staircases, too many 1x1 pools of liquid, cages on every wall, etc.

- Fixed an texturing issue with the new generic 128-height staircase fabs.
- Outright removed the cage on the diagonal wall lamp fab to fix the cage texture issue.
- Added make-new-area shape rules for the cliff-making rules. Decreased the probability of shapes with stairs running parallel to cliffs.
- Added new shape rules for making liquid crossings, where the player has to jump the gap or simply run over a liquid sector. Only set to be available if ZDoom is the selected engine.
- Removed the 'cage' textures around the hell ceiling lights, as Oblige sometimes misaligns them upon placement.

Affected files: prefabs/stairs/gtd_stairs_128.wad
                prefabs/walls/garrett_diagonal_lamp.wad
                prefabs/walls/garrett_diagonal_lamp.lua
                scripts/rules.lua
                prefabs/decor/gtd_hell_ceil_light.wad
                scripts/grower.lua
                modules/layout_absurdifier.lua

=================================================================================================
                
1/31/19

- Expanded monster quantity choices and extended control module for monster quantity Mix It Up.
- Added new generic 128-height staircase fab.

Affected files: prefabs/stairs/gtd_stairs_128.wad & .lua
                scripts/monster.lua
                scripts/defs.lua
                modules/ui_mons.lua